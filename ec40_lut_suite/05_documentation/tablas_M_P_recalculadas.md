# Tablas M y P Recalculadas

**Fecha de generación:** ec40_capturas_merged.csv

**Tramas analizadas:** 2174
**Tramas correctas:** 1484
**Tramas con error:** 690
**Precisión:** 68.26%

## Tabla P[d] - Décimas de temperatura

| d | P[d] (hex) | P[d] (dec) |
|---|------------|------------|
| 0 | 0x075 |  117 |
| 1 | 0x000 |    0 |
| 2 | 0x09F |  159 |
| 3 | 0x0EA |  234 |
| 4 | 0x0C0 |  192 |
| 5 | 0x0B5 |  181 |
| 6 | 0x02A |   42 |
| 7 | 0x05F |   95 |
| 8 | 0x01E |   30 |
| 9 | 0x06B |  107 |

## Tabla M[e] - Temperaturas enteras

| e (°C) | M[e] (hex) | M[e] (dec) |
|--------|------------|------------|
|  -16 | 0x2D4 |  724 |
|  -15 | 0x227 |  551 |
|  -14 | 0x276 |  630 |
|  -13 | 0x2C0 |  704 |
|  -12 | 0x291 |  657 |
|  -11 | 0x262 |  610 |
|  -10 | 0x233 |  563 |
|   -9 | 0x2EF |  751 |
|   -8 | 0x2BE |  702 |
|   -7 | 0x282 |  642 |
|   -6 | 0x2D3 |  723 |
|   -5 | 0x220 |  544 |
|   -4 | 0x271 |  625 |
|   -3 | 0x2C7 |  711 |
|   -2 | 0x296 |  662 |
|   -1 | 0x265 |  613 |
|    0 | 0x2B7 |  695 |
|    1 | 0x13D |  317 |
|    2 | 0x1CE |  462 |
|    3 | 0x19F |  415 |
|    4 | 0x129 |  297 |
|    5 | 0x178 |  376 |
|    6 | 0x18B |  395 |
|    7 | 0x1DA |  474 |
|    8 | 0x1E6 |  486 |
|    9 | 0x1B7 |  439 |
|   10 | 0x16B |  363 |
|   11 | 0x13A |  314 |
|   12 | 0x1C9 |  457 |
|   13 | 0x243 |  579 |
|   14 | 0x2F5 |  757 |
|   15 | 0x17F |  383 |
|   16 | 0x18C |  396 |
|   17 | 0x1DD |  477 |
|   18 | 0x1E1 |  481 |
|   19 | 0x813 | 2067 |
|   20 | 0x2B9 |  697 |
|   21 | 0x133 |  307 |
|   22 | 0x1C0 |  448 |
|   23 | 0x191 |  401 |
|   24 | 0x127 |  295 |
|   25 | 0x176 |  374 |
|   26 | 0x185 |  389 |
|   27 | 0x1D4 |  468 |
|   28 | 0x1E8 |  488 |
|   29 | 0x1B9 |  441 |
|   30 | 0x165 |  357 |
|   31 | 0x134 |  308 |
|   32 | 0x1C7 |  455 |
|   33 | 0x196 |  406 |
|   34 | 0x883 | 2179 |
|   35 | 0x8D2 | 2258 |
|   36 | 0x821 | 2081 |
|   37 | 0x870 | 2160 |
|   38 | 0x84C | 2124 |
|   39 | 0x81D | 2077 |
|   40 | 0x8B3 | 2227 |
|   41 | 0x8E2 | 2274 |
|   42 | 0x811 | 2065 |
|   43 | 0x840 | 2112 |
|   44 | 0x8F6 | 2294 |
|   45 | 0x8A7 | 2215 |
|   46 | 0x854 | 2132 |
|   47 | 0x805 | 2053 |
|   48 | 0x839 | 2105 |
|   49 | 0x868 | 2152 |
|   50 | 0x117 |  279 |
|   51 | 0x146 |  326 |
|   52 | 0x816 | 2070 |
|   53 | 0x1E4 |  484 |
|   54 | 0x8F1 | 2289 |
|   56 | 0x22B |  555 |
|   57 | 0x1A1 |  417 |
|   58 | 0x246 |  582 |
|   61 | 0x14F |  335 |

## Código Python - Tabla P

```python
P_TABLE = [
    0x075,  # P[0]
    0x000,  # P[1]
    0x09F,  # P[2]
    0x0EA,  # P[3]
    0x0C0,  # P[4]
    0x0B5,  # P[5]
    0x02A,  # P[6]
    0x05F,  # P[7]
    0x01E,  # P[8]
    0x06B,  # P[9]
]
```

## Código Python - Tabla M

```python
M_TABLE = {
     -16: 0x2D4,
     -15: 0x227,
     -14: 0x276,
     -13: 0x2C0,
     -12: 0x291,
     -11: 0x262,
     -10: 0x233,
      -9: 0x2EF,
      -8: 0x2BE,
      -7: 0x282,
      -6: 0x2D3,
      -5: 0x220,
      -4: 0x271,
      -3: 0x2C7,
      -2: 0x296,
      -1: 0x265,
       0: 0x2B7,
       1: 0x13D,
       2: 0x1CE,
       3: 0x19F,
       4: 0x129,
       5: 0x178,
       6: 0x18B,
       7: 0x1DA,
       8: 0x1E6,
       9: 0x1B7,
      10: 0x16B,
      11: 0x13A,
      12: 0x1C9,
      13: 0x243,
      14: 0x2F5,
      15: 0x17F,
      16: 0x18C,
      17: 0x1DD,
      18: 0x1E1,
      19: 0x813,
      20: 0x2B9,
      21: 0x133,
      22: 0x1C0,
      23: 0x191,
      24: 0x127,
      25: 0x176,
      26: 0x185,
      27: 0x1D4,
      28: 0x1E8,
      29: 0x1B9,
      30: 0x165,
      31: 0x134,
      32: 0x1C7,
      33: 0x196,
      34: 0x883,
      35: 0x8D2,
      36: 0x821,
      37: 0x870,
      38: 0x84C,
      39: 0x81D,
      40: 0x8B3,
      41: 0x8E2,
      42: 0x811,
      43: 0x840,
      44: 0x8F6,
      45: 0x8A7,
      46: 0x854,
      47: 0x805,
      48: 0x839,
      49: 0x868,
      50: 0x117,
      51: 0x146,
      52: 0x816,
      53: 0x1E4,
      54: 0x8F1,
      56: 0x22B,
      57: 0x1A1,
      58: 0x246,
      61: 0x14F,
}
```

## Fórmula de cálculo

Para una temperatura `T` en °C:

1. Descomponer: `e = int(T)`, `d = int(abs(T * 10)) % 10`
2. Calcular: `R12 = M[e] ^ P[d]`
3. El valor R12 se codifica en los bytes 3 y 7 del mensaje EC40

